import React, { useState } from 'react';
import { ChevronDown, ChevronUp, Calendar, Clock, Users, MessageCircle } from 'lucide-react';

const Schedule = () => {
  const [expandedSchool, setExpandedSchool] = useState(null);

  const scheduleData = [
    {
      date: 'Viernes 28 de noviembre',
      schools: [
        {
          name: 'Argelia',
          time: '7:00 am - 11:00 am',
          contacts: [
            { team: 'Equipo Bienestar', name: 'Paola Andrea López' },
            { team: 'Equipo Directivo Docente', name: 'Katerin Gámez' },
            { team: 'Equipo Administrativo', name: 'Jhon Shneider Meneses Valencia' }
          ],
          whatsapp: 'https://chat.whatsapp.com/K0JeiIQa6gbDrwPt7WQE8B'
        },
        {
          name: 'Ciudad Chengdú',
          time: '12:00 pm - 3:00 pm',
          contacts: [
            { team: 'Equipo Bienestar', name: 'Claudia Marcela Castro' },
            { team: 'Equipo Directivo Docente', name: 'Gina Liliana Luna Enciso' },
            { team: 'Equipo Administrativo', name: 'Edison Quiñonez' }
          ],
          whatsapp: 'https://chat.whatsapp.com/EUaCLkXkULgBZOFg9C7QMr'
        }
      ]
    },
    {
      date: 'Lunes 1 de diciembre',
      schools: [
        {
          name: 'El Nogal',
          time: '7:00 am - 11:00 am',
          contacts: [
            { team: 'Equipo Bienestar', name: 'Daniela Suárez Moreno' },
            { team: 'Equipo Directivo Docente', name: 'Yenny Edilma Gutiérrez' },
            { team: 'Equipo Administrativo', name: 'Lindsay Diaz Abadía' }
          ],
          whatsapp: 'https://chat.whatsapp.com/JtIpqyD2zpe56bh7LJMOl7'
        },
        {
          name: 'La Giralda',
          time: '1:00 pm - 4:00 pm',
          contacts: [
            { team: 'Equipo Directivo Docente', name: 'Sindy Milena Chacón' },
            { team: 'Equipo Bienestar', name: 'María de los Ángeles Ramírez' },
            { team: 'Equipo Administrativo', name: 'Lina Fernanda Salazar' }
          ],
          whatsapp: 'https://chat.whatsapp.com/KjYMlrTyqjlAoHQ7Q7ASIB'
        }
      ]
    },
    {
      date: 'Martes 2 de diciembre',
      schools: [
        {
          name: 'Jaime Garzón',
          time: '7:00 am - 11:00 am',
          contacts: [
            { team: 'Equipo Bienestar', name: 'Erika Daniela Pachon' },
            { team: 'Equipo Directivo Docente', name: 'Deicy Aguirre Florez' },
            { team: 'Equipo Administrativo', name: 'Cinthia Lorein Cortes' }
          ],
          whatsapp: 'https://chat.whatsapp.com/KziRfxN9IxWEce8DEydkze'
        },
        {
          name: 'Jorge Isaacs',
          time: '1:00 pm - 4:00 pm',
          contacts: [
            { team: 'Equipo Bienestar', name: 'Néstor Camilo Sosa Naranja' },
            { team: 'Equipo Directivo Docente', name: 'Lady Julieth Ospina Agudelo' },
            { team: 'Equipo Administrativo', name: 'Angela Andrea López Robayo' }
          ],
          whatsapp: 'https://chat.whatsapp.com/Gme9mU8zEuAB7Q6bOukYiL'
        }
      ]
    },
    {
      date: 'Miércoles 3 de diciembre',
      schools: [
        {
          name: 'Las Margaritas',
          time: '7:00 am - 11:00 am',
          contacts: [
            { team: 'Equipo Directivo Docente', name: 'Slenny Silva S' },
            { team: 'Equipo Bienestar', name: 'Daniela Ospina' },
            { team: 'Equipo Administrativo', name: 'Sergio Parra' }
          ],
          whatsapp: 'https://chat.whatsapp.com/BvpGPN0rDmR2cnHF4MxLou'
        },
        {
          name: 'Laurel de Cera',
          time: '1:00 pm - 3:00 pm',
          contacts: [
            { team: 'Equipo Directivo Docente', name: 'Carol Yojanna Caballero Rodríguez' },
            { team: 'Equipo Bienestar', name: 'Jorge Sebastián Cháves Murcia' },
            { team: 'Equipo Administrativo', name: 'Deisy Yurani Rodríguez Ruiz' }
          ],
          whatsapp: 'https://chat.whatsapp.com/BQW3foROeZE35S1powZCQx'
        }
      ]
    },
    {
      date: 'Jueves 4 de diciembre',
      schools: [
        {
          name: 'Miravalle',
          time: '7:00 am - 11:00 am',
          contacts: [
            { team: 'Equipo Bienestar', name: 'Monica Urrego' },
            { team: 'Equipo Directivo Docente', name: 'Cristian Camilo Moya' },
            { team: 'Equipo Administrativo', name: 'Andrés Igua' }
          ],
          whatsapp: 'https://chat.whatsapp.com/CDTLTXLzki1GHVI6vcZMqH'
        },
        {
          name: 'Parques de Bogotá',
          time: '1:00 pm - 4:00 pm',
          contacts: [
            { team: 'Equipo Bienestar', name: 'María Paula Prada Gómez' },
            { team: 'Equipo Directivo Docente', name: 'Edith Janeth Mendoza Torres' },
            { team: 'Equipo Administrativo', name: 'Fabiola Latorre Jácome' }
          ],
          whatsapp: 'https://chat.whatsapp.com/CIG4LJR7woHIq7yNyMt3Ly'
        }
      ]
    },
    {
      date: 'Viernes 5 de diciembre',
      schools: [
        {
          name: 'Santiago de las Atalayas',
          time: '7:00 am - 11:00 am',
          contacts: [
            { team: 'Equipo Bienestar', name: 'Juan Felipe Cardona Villada' },
            { team: 'Equipo Directivo Docente', name: 'Luis Fernando Gómez' },
            { team: 'Equipo Administrativo', name: 'Enadis Flórez' }
          ],
          whatsapp: 'https://chat.whatsapp.com/IGcguW4EDhd8XU6ZP9VwwO'
        }
      ]
    }
  ];

  const toggleSchool = (schoolId) => {
    setExpandedSchool(expandedSchool === schoolId ? null : schoolId);
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
      <div className="max-w-4xl mx-auto">
        <div className="bg-white rounded-2xl shadow-xl p-8 mb-6">
          <h1 className="text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3">
            <Calendar className="text-indigo-600" size={36} />
            Cronograma de Revisión de Informes
          </h1>
          <p className="text-gray-600">Haz clic en cada colegio para ver los detalles</p>
        </div>

        {scheduleData.map((day, dayIndex) => (
          <div key={dayIndex} className="mb-6">
            <div className="bg-indigo-600 text-white rounded-t-xl px-6 py-3 font-semibold text-lg flex items-center gap-2">
              <Calendar size={20} />
              {day.date}
            </div>
            <div className="bg-white rounded-b-xl shadow-lg overflow-hidden">
              {day.schools.map((school, schoolIndex) => {
                const schoolId = `${dayIndex}-${schoolIndex}`;
                const isExpanded = expandedSchool === schoolId;

                return (
                  <div key={schoolIndex} className="border-b last:border-b-0">
                    <button
                      onClick={() => toggleSchool(schoolId)}
                      className="w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors"
                    >
                      <div className="flex items-center gap-3">
                        <div className="w-2 h-2 bg-green-500 rounded-full"></div>
                        <span className="font-semibold text-gray-800 text-lg">
                          {school.name}
                        </span>
                      </div>
                      {isExpanded ? (
                        <ChevronUp className="text-indigo-600" size={24} />
                      ) : (
                        <ChevronDown className="text-gray-400" size={24} />
                      )}
                    </button>

                    {isExpanded && (
                      <div className="px-6 pb-6 bg-gray-50 border-t">
                        <div className="pt-4 space-y-4">
                          <div className="flex items-center gap-3 text-gray-700">
                            <Clock className="text-indigo-600" size={20} />
                            <div>
                              <p className="font-semibold text-sm text-gray-500">Jornada</p>
                              <p className="text-base">{school.time}</p>
                            </div>
                          </div>

                          <div>
                            <div className="flex items-center gap-2 mb-3">
                              <Users className="text-indigo-600" size={20} />
                              <p className="font-semibold text-gray-700">Personas Enlace</p>
                            </div>
                            <div className="space-y-2 ml-7">
                              {school.contacts.map((contact, idx) => (
                                <div key={idx} className="bg-white rounded-lg p-3 shadow-sm">
                                  <p className="text-xs font-semibold text-indigo-600 mb-1">
                                    {contact.team}
                                  </p>
                                  <p className="text-sm text-gray-800">{contact.name}</p>
                                </div>
                              ))}
                            </div>
                          </div>

                          <a
                            href={school.whatsapp}
                            target="_blank"
                            rel="noopener noreferrer"
                            className="flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg transition-colors w-full justify-center font-semibold"
                          >
                            <MessageCircle size={20} />
                            Enlace de la comunidad de WhatsApp
                          </a>
                        </div>
                      </div>
                    )}
                  </div>
                );
              })}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

export default Schedule;